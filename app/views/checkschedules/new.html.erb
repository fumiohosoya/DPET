
<% daystr = ["Mon", "Tue", "Wed", "Thr", "Fri", "Sat", "Sun"] %>
<%= render 'admin/backtoadmin' %>


<div class="col-12 bg-white" style="line-height:0.8rem;">
    <h3 class="bg-white text-dark"> Check Schedule Maker</h3>
<% if @schedules.any? %>


<%= form_with(url: checkschedules_path, scope: :schedules, method: :post, local: true) do |f| %>
<%= hidden_field_tag :company_id, @company_id %>
<%= f.submit "Regist", class:'btn btn-info btn-block offset-6 w-50' %>
<table class="table table-striped table-bordered">
    <tr>
       <td colspan="7" class="bg-grey text-center weekhead">
           1st week
       </td>
    </tr>
    <%= render 'weekcommon' %>
    <tr id="day6select">
        <td><%= select_tag :day1, options_for_select(@todo, @day1.id), class:'form-control' %></td>
        <td><%= select_tag :day2, options_for_select(@todo, @day2.id), class:'form-control' %></td>
        <td><%= select_tag :day3, options_for_select(@todo, @day3.id), class:'form-control' %></td>
        <td><%= select_tag :day4, options_for_select(@todo, @day4.id), class:'form-control' %></td>
        <td><%= select_tag :day5, options_for_select(@todo, @day5.id), class:'form-control' %></td>
        <td class="alert-primary"><%= select_tag :day6, options_for_select(@todo, @day6.id), class:'form-control alert-primary' %></td>
        <td class="alert-danger">&nbsp;</td>
    </tr>
   <tr>
       <td colspan="7" class="bg-grey text-center weekhead">
           2nd week
       </td>
    </tr>
    <%= render 'weekcommon' %>
    <%= render 'week52' %>
    <tr>
       <td colspan="7" class="bg-grey text-center weekhead">
           3rd week
       </td>
    </tr>
    <%= render 'weekcommon' %>
    <%= render 'week5x' %>
    <tr>
       <td colspan="7" class="bg-grey text-center weekhead">
           4th week
       </td>
    </tr>
    <%= render 'weekcommon' %>
    <%= render 'week52' %>
</table>
<%= f.submit "Regist", class:'btn btn-info btn-block offset-6 w-50' %>

<% end %>
</div>
<%= render 'admin/backtoadmin' %>



<script>
    $("#day6select select").on("change", function(e) {
        
        var target = $(e.target).attr("id");
        var value = $(e.target).val() - 1;
        
        console.log(target);
        console.log(value);
        
        var text = $(e.target.options[value]).text();
        $("." + target + "m").text(text);
        debugger;
    })
    
</script>

<% end %>